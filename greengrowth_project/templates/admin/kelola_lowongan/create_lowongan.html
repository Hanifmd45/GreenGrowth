{% extends "admin/layout_admin.html" %}

{% block sidebar %}
  {% include 'admin/sidebar.html' %}
{% endblock %}

{% block content %}
<!-- ============================================================================ -->
<!--                              KONTEN UTAMA                                    -->
<!-- ============================================================================ -->
<div class="p-6 flex flex-col h-screen">
  
  <!-- Judul Halaman -->
  <h1 class="mt-4 mb-6 text-center text-4xl font-bold text-black">
    Create New Job Vacancy
  </h1>
  
  <!-- Flash Messages -->
  {% include 'partials/flash.html' %}

  <!-- ========================================================================== -->
  <!--                        FORM CREATE LOWONGAN                                -->
  <!-- ========================================================================== -->
  <div class="bg-[#0BDAAA] rounded-3xl p-6 overflow-y-auto mt-8">
    <form 
      method="post" 
      action="{{ url_for('lowongan.create_lowongan') }}" 
      class="space-y-2"
    >
      
      <!-- Field: Program -->
      <div>
        <label 
          for="program_id" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Program
        </label>
        <select 
          id="program_id" 
          name="program_id" 
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold focus:outline-none" 
          required
        >
          <option value="" disabled selected style="background-color: #15f275">
            -- Select Program --
          </option>
          {% for program in programs %}
          <option 
            value="{{ program[0] }}" 
            {% if program[0]|string == selected_program_id|string %}selected{% endif %}
            style="background-color: #15f275; font-weight: bold"
          >
            {{ program[1] if program[1] else 'Program ' ~ program[0] }}
          </option>
          {% endfor %}
        </select>
      </div>

      <!-- Field: Nama Lowongan -->
      <div>
        <label 
          for="nama_lowongan" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Job Vacancy Name
        </label>
        <input 
          type="text" 
          id="nama_lowongan" 
          name="nama_lowongan" 
          placeholder="Enter job vacancy name"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none" 
          required 
        />
      </div>

      <!-- Field: Status Lowongan -->
      <div>
        <label 
          for="status_lowongan" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Vacancy Status
        </label>
        <select 
          id="status_lowongan" 
          name="status_lowongan" 
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold focus:outline-none" 
          required
        >
          <option value="dibuka" selected style="background-color: #15f275; font-weight: bold">
            Open
          </option>
          <option value="ditutup" style="background-color: #15f275; font-weight: bold">
            Closed
          </option>
        </select>
        <small class="block mt-1 text-xs text-black/70">
          If not specified, default will be <strong>Open</strong>.
        </small>
      </div>

      <!-- Field: Minimal Umur -->
      <div>
        <label 
          for="min_umur" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Minimum Age
        </label>
        <input 
          type="number" 
          id="min_umur" 
          name="min_umur" 
          min="0" 
          max="70" 
          placeholder="Enter minimum age"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none" 
          required 
        />
        <small class="block mt-1 text-xs text-black/70">
          the value must be below or equal to 70.
        </small>
      </div>

      <!-- Field: Maksimal Umur -->
      <div>
        <label 
          for="max_umur" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Maximum Age
        </label>
        <input 
          type="number" 
          id="max_umur" 
          name="max_umur" 
          min="0" 
          max="70" 
          placeholder="Enter maximum age"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none" 
          required 
        />
        <small class="block mt-1 text-xs text-black/70">
          the value must be below or equal to 70.
        </small>
      </div>

      <!-- Field: Keahlian -->
      <div>
        <label 
          for="keahlian" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Required Skills
        </label>
        <textarea 
          id="keahlian" 
          name="keahlian" 
          rows="3" 
          placeholder="Enter required skills"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none" 
          required
        ></textarea>
      </div>

      <!-- Field: Pengalaman -->
      <div>
        <label 
          for="pengalaman" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Work Experience
        </label>
        <textarea 
          id="pengalaman" 
          name="pengalaman" 
          rows="5" 
          placeholder="Enter work experience requirements"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none" 
          required
        ></textarea>
      </div>

      <!-- Field: Minimal Pendidikan -->
      <div>
        <label 
          for="min_pendidikan" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Minimum Education Level
        </label>
        <select 
          id="min_pendidikan" 
          name="min_pendidikan" 
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold focus:outline-none" 
          required
        >
          <option value="SD" selected style="background-color: #15f275; font-weight: bold">
            Elementary School (SD)
          </option>
          <option value="SMP" style="background-color: #15f275; font-weight: bold">
            Junior High School (SMP)
          </option>
          <option value="SMA" style="background-color: #15f275; font-weight: bold">
            Senior High School (SMA/SMK/MAN)
          </option>
          <option value="D3" style="background-color: #15f275; font-weight: bold">
            Diploma 3 (D3)
          </option>
          <option value="D4" style="background-color: #15f275; font-weight: bold">
            Diploma 4 (D4)
          </option>
          <option value="S1" style="background-color: #15f275; font-weight: bold">
            Bachelor's Degree (S1)
          </option>
          <option value="S2" style="background-color: #15f275; font-weight: bold">
            Master's Degree (S2)
          </option>
          <option value="S3" style="background-color: #15f275; font-weight: bold">
            Doctoral Degree (S3)
          </option>
        </select>
      </div>

      <!-- Field: Kuota Pekerja -->
      <div>
        <label 
          for="kuota_pekerja" 
          class="block text-black font-bold mb-2 text-sm"
        >
          Worker Quota
        </label>
        <input 
          type="number" 
          id="kuota_pekerja" 
          name="kuota_pekerja" 
          min="0" 
          max="70" 
          placeholder="Enter worker quota"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none" 
          required 
        />
        <small class="block mt-1 text-xs text-black/70">
          the value must be below or equal to 70.
        </small>
      </div>

      <!-- Tombol Aksi -->
      <div class="flex justify-center gap-4 pt-2">
        <button 
          type="submit" 
          class="bg-[#15F275] hover:bg-[#C7FB01] text-black font-bold px-20 py-3 rounded-full"
        >
          Create Vacancy
        </button>
        <a 
          href="{{ url_for('admin.dashboard') }}" 
          class="bg-black/20 hover:bg-black/30 text-black font-bold px-16 py-3 rounded-full inline-flex items-center"
        >
          Back
        </a>
      </div>
      
    </form>
  </div>
  
</div>
{% endblock %}